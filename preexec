function preexec () {
  export PREEXEC_CMD="Command: ${1:-BASH_COMMAND}"
  export PREEXEC_TIME=$(date +'%s')
}

# Before a command execution
function precmd() {
  stop=$(date +'%s')
  start=${PREEXEC_TIME:-$stop}
  let elapsed=$stop-$start
  max=${PREEXEC_MAX:-10}

  if [ $elapsed -gt $max ]; then
    curl -k -s -u $NOTIFO_USER:$NOTIFO_KEY -d "msg=took $elapsed secs&title=${PREEXEC_CMD:-Some Command}" https://api.notifo.com/v1/send_notification > /dev/null
  fi
}
